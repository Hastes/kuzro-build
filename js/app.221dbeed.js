(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],p=0,m=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/kuzro-build/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"51f7":function(t,e,a){"use strict";var n=a("71b5"),i=a.n(n);i.a},6007:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAANlBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7FydPi5Onw8fS+ws3f4ee6v8v29/jY2+Hu7/Ly9PbJztbQ1dxJagBAAAAC60lEQVR4nO3b2ZaCMBREUQbDJOP//2wbEGVIFCHKTa+zH7uVRVmBBJQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMCpdOzvQQqaq2KmuSrOzQ02lSeRem8rpsQq/ozg72Kj4UkAxEev8awnzs7P1yiIadsfpQXjfZCHhUCzbfmeurdNz6bDRsBWRsB+k0cXxdHjpa0wkTBn3hKnjzRZyEgYk3IeEv2RKWCt1cN9EJ0zjfm7Mq/rAVgUnbLpwnK/zA2tnuQmzJHquuqJq91blJuwmAW8rHbV3q2ITFrOAt7Xz3l2UmrBMlpcHe9fOUhOqRYVhFO/cqtSEy0H6bh/tJ1uhCctqlTB/NSnG9pOt1ISXjxLq825laVFowo9GaRPrF9talJqw3n6macaZ09yi1ISG2cLyriwePwxzi1ITru4s2naxma59TC2KTRjE83FqmQ6yeDaUDS3KTRhMV96h5TTSLD4HQ4uCE9bxePUU5pYL/3mD5o9CcMKgTONc39NNLrV5iK4aNLUoOWHQ38RQtW3nsm6db92i8ISvGBtct+hvwqyzBFxE9DehrcHlQPU1YWNvcNGirwlfNThv0ZOE9eJG1OsGZy36kVBdczU9e7RvAz5b9CFhqfIwSp4XwG+OwUWLPiRUV/33Z4tbGtTvGK635CfUDfb/SO5rt20N9t8m65fLT9g3GD5abDY2qC+lvEg4NjhEvLW4tUFvEj4a7OXq3TzoW8Jpg0PEzfk8SThv8EMeJFw1+O8SHmrQg4QHG/Qg4cEGxSc83KD4hIcblJ6w3L508TXh+vtDEpLw3GwDEpKQhOdznVD2fRr9tdpRw/1HqQndIeEvkXCXUlDC+1NBndsnge/fwyVnp9PGH3p95dm1WMKza4/fI37j+UPXR/c+2X9/hjQI0uO3LsyuMioM9A8Sjy/W1iIhY7Sn2tzpUahdWyXiNDNSxcWtSlCBAAAAAAAAAAAAAAAAAAAAAAAAAAAAwCn+AEXGNosxDBhFAAAAAElFTkSuQmCC"},"659a":function(t,e,a){},"71b5":function(t,e,a){},ae05:function(t,e,a){},bc22:function(t,e,a){"use strict";var n=a("ae05"),i=a.n(n);i.a},be41:function(t,e,a){"use strict";var n=a("659a"),i=a.n(n);i.a},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",dark:"",color:"primary"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Илья Казанин")]),a("v-list-item-subtitle",[t._v("Оператор")])],1)],1),a("v-list-item-group",{model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[a("v-list-item",{attrs:{to:{name:"platforms"}}},[a("v-list-item-icon",[a("v-icon",[t._v("domain")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Площадки")])],1)],1),a("v-list-item",{attrs:{to:{name:"containers"}}},[a("v-list-item-icon",[a("v-icon",[t._v("delete")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Контейнеры")])],1)],1)],1)],1)],1),a("v-app-bar",{attrs:{app:"",dark:"",flat:"",color:"primary"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-spacer"),a("logout-button"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("search")])],1)],1),a("v-content",{style:{"--appTopHeight":t.appTopHeight}},[a("router-view")],1)],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.$store.getters.isAuthenticated?a("v-btn",{attrs:{depressed:"",dark:"",small:"",color:"primary"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Выйти"),a("v-icon",{staticClass:"ml-2"},[t._v("input")])],1):t._e()},o=[],l={REQUEST:"AUTH_REQUEST",SUCCESS:"AUTH_SUCCESS",ERROR:"AUTH_ERROR",LOGOUT:"AUTH_LOGOUT"},c=l,u=n["a"].extend({data:function(){return{}},methods:{logout:function(){var t=this;this.$store.dispatch(c.LOGOUT).then((function(){t.$router.push("/login")})).catch((function(t){}))}}}),p=u,m=a("2877"),d=a("6544"),v=a.n(d),f=a("8336"),_=a("132d"),h=Object(m["a"])(p,s,o,!1,null,null,null),g=h.exports;v()(h,{VBtn:f["a"],VIcon:_["a"]});var b=n["a"].extend({name:"App",components:{LogoutButton:g},data:function(){return{appTopHeight:0,isAuthenticated:!1,drawer:!1,group:null}},watch:{group:function(){this.drawer=!1}},created:function(){this.appTopHeight=this.$vuetify.application.top}}),y=b,k=(a("51f7"),a("be41"),a("7496")),x=a("40dc"),C=a("5bc1"),w=a("a75b"),S=a("adda"),V=a("8860"),A=a("da13"),I=a("8270"),E=a("5d23"),L=a("1baa"),O=a("34c3"),j=a("f774"),R=a("2fa4"),T=Object(m["a"])(y,i,r,!1,null,"0a41b8bc",null),P=T.exports;v()(T,{VApp:k["a"],VAppBar:x["a"],VAppBarNavIcon:C["a"],VBtn:f["a"],VContent:w["a"],VIcon:_["a"],VImg:S["a"],VList:V["a"],VListItem:A["a"],VListItemAvatar:I["a"],VListItemContent:E["b"],VListItemGroup:L["a"],VListItemIcon:O["a"],VListItemSubtitle:E["c"],VListItemTitle:E["d"],VNavigationDrawer:j["a"],VSpacer:R["a"]});var B=a("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[a("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},[a("v-card",{attrs:{flat:"",width:"400px"}},[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Вход в систему")]),a("v-spacer"),a("v-icon",[t._v("people")])],1),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("v-text-field",{attrs:{filled:"",label:"Логин","hide-details":""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{filled:"",label:"Пароль",type:"password",counter:"","hide-details":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticClass:"px-2 py-4 text-right"},[a("v-btn",{staticClass:"mx-2",attrs:{depressed:"",small:""}},[t._v("Зарегистрироваться")]),a("v-btn",{staticClass:"mx-2",attrs:{depressed:"",dark:"",color:"primary",type:"submit"}},[t._v("Войти")])],1)],1)],1)],1)],1)},z=[],D=n["a"].extend({data:function(){return{email:"",password:""}},methods:{login:function(){var t=this,e=this.password,a=this.email;this.$store.dispatch(c.REQUEST,{password:e,email:a}).then((function(){t.$router.push("/")})).catch((function(t){console.log(t)}))}}}),H=D,N=a("b0af"),$=a("a523"),Q=a("4bd4"),G=a("0fd9"),q=a("8654"),F=a("71d9"),W=a("2a7f"),M=Object(m["a"])(H,U,z,!1,null,null,null),J=M.exports;v()(M,{VBtn:f["a"],VCard:N["a"],VContainer:$["a"],VForm:Q["a"],VIcon:_["a"],VRow:G["a"],VSpacer:R["a"],VTextField:q["a"],VToolbar:F["a"],VToolbarTitle:W["a"]});var K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("list-platforms")},X=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-overflow"},[a("v-expand-transition",[a("ecotec-map",{directives:[{name:"show",rawName:"v-show",value:t.currentItem,expression:"currentItem"}],attrs:{"map-item":t.currentItem,"map-height":340}})],1),a("v-card",{staticClass:"section-overflow",attrs:{flat:"",tile:""}},[a("v-card-title",{staticClass:"pa-4"},[t._v("Таблица контейнерных площадок")]),a("v-card-text",{staticClass:"section-overflow"},[a("v-data-table",{staticClass:"section-overflow",attrs:{headers:t.headers,items:t.platforms,expanded:t.tableSticky_expanded,"server-items-length":t.pageCount,"items-per-page":t.itemsPerPage,loading:t.isLoading,"item-key":"id","show-select":"","single-expand":"","fixed-header":"","loading-text":"Выполняется подгрузка площадок...","footer-props":{"disable-items-per-page":!0,"items-per-page-options":[t.itemsPerPage],"disable-pagination":t.isLoading}},on:{"update:expanded":function(e){t.tableSticky_expanded=e},"click:row":t.getRowValue,"update:page":t.getPlatforms},scopedSlots:t._u([{key:"header.id",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{"hide-details":"","append-icon":"search"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0),model:{value:t.filters[n.value],callback:function(e){t.$set(t.filters,n.value,e)},expression:"filters[header.value]"}},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"header.name",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{"hide-details":"","append-icon":"search"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0),model:{value:t.filters[n.value],callback:function(e){t.$set(t.filters,n.value,e)},expression:"filters[header.value]"}},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"header.lot",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{"hide-details":"","append-icon":"arrow_drop_down"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0),model:{value:t.filters[n.value],callback:function(e){t.$set(t.filters,n.value,e)},expression:"filters[header.value]"}},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"header.count_fact",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{"hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0)},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"item.lot",fn:function(e){var a=e.item;return[t._v(t._s(a.lot.name))]}},{key:"item.count_fact",fn:function(e){var n=e.item;return[n.count_fact?a("span",[t._v(t._s(n.count_fact))]):a("span",[t._v("Информация отсутствует")])]}},{key:"expanded-item",fn:function(t){var e=t.headers,n=t.item;return[a("td",{attrs:{colspan:e.length}},[a("expanded-content",{attrs:{platform:n}})],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)},Z=[],tt=(a("96cf"),a("3b8d")),et=(a("6762"),a("2fdb"),a("768b")),at=n["a"].extend({data:function(){return{tableSticky_expanded:[],tableSticky_scrollPosition:0,tableSticky_rowHeight:0,tableSticky_isInsideStickyBorder:!1,tableSticky_isEntryStickyBorder:!1}},mounted:function(){this.tableSticky_initTableSticky()},methods:{tableSticky_initTableSticky:function(){var t=this.$el.getElementsByClassName("v-data-table__wrapper"),e=Object(et["a"])(t,1),a=e[0];this.tableSticky_initEvents(a)},tableSticky_initEvents:function(t){var e=this;if(t){var a=t.getElementsByTagName("thead"),n=Object(et["a"])(a,1),i=n[0];t.addEventListener("scroll",(function(){e.tableSticky_setValueStickyBorder(t),e.tableSticky_entryStickyBorder(t),e.tableSticky_leaveStickyBorder(t)})),t.addEventListener("click",(function(a){e.tableSticky_scrollToClickedRow(a,i,t)}))}},tableSticky_scrollToClickedRow:function(t,e,a){var n=t.target,i=n.closest(".v-data-table__expanded__row");if(this.isExpandOpened&&i){var r=e.clientHeight;this.tableSticky_scrollPosition=i.offsetTop-r,this.tableSticky_rowHeight=i.clientHeight,a.scrollTo(0,this.tableSticky_scrollPosition)}},tableSticky_stickToClickedRow:function(t){this.isExpandOpened&&t.scrollTo(0,this.tableSticky_scrollPosition)},tableSticky_setValueStickyBorder:function(t){var e={isOver:!1,isUnder:!1,isInside:!1,position:t.scrollTop},a=15,n={top:this.tableSticky_scrollPosition-a,bottom:this.tableSticky_scrollPosition+this.tableSticky_rowHeight+a};e.isOver=e.position>=n.top,e.isUnder=e.position<=n.bottom,e.isInside=e.isOver&&e.isUnder,this.tableSticky_isInsideStickyBorder=e.isInside},tableSticky_entryStickyBorder:function(t){this.tableSticky_isInsideStickyBorder&&!this.tableSticky_isEntryStickyBorder&&(this.tableSticky_isEntryStickyBorder=!0,this.tableSticky_stickToClickedRow(t),this.isExpandOpened)},tableSticky_leaveStickyBorder:function(t){!this.tableSticky_isInsideStickyBorder&&this.tableSticky_isEntryStickyBorder&&(this.tableSticky_isEntryStickyBorder=!1)},isExpandOpened:function(){return Boolean(this.tableSticky_expanded.length)}}}),nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":""}},[t.platform?n("v-col",{attrs:{cols:"6"}},[n("v-card",{staticClass:"list list_by-section",attrs:{flat:"",tile:"",color:"secondaryLightest"}},[n("v-list-item",{staticClass:"list__header"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:a("6007")}})],1),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"platform",params:{id:t.platform.id}}}},[t._v("Площадка №"+t._s(t.platform.id))])],1),n("v-list-item-subtitle",[n("v-icon",[t._v("room")]),t._v(t._s(t.platform.name))],1)],1)],1),n("v-list-item",{staticClass:"list__content"},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Вид площадки (План. / Факт.)")]),n("v-list-item-subtitle",[t.platform.type_plan?n("span",[t._v(t._s(t.platform.type_plan.name))]):n("span",[t._v("Информация отсутствует")]),t.platform.type_fact?n("span",[t._v(" / "+t._s(t.platform.type_fact.name))]):n("span",[t._v(" / Информация отсутствует")])])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Покрытие")]),n("v-list-item-subtitle",[t.platform.surface?n("span",[t._v(t._s(t.platform.surface.name))]):n("span",[t._v("Информация отсутствует")])])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Ограждение")]),n("v-list-item-subtitle",[t.platform.fence?n("span",[t._v(t._s(t.platform.fence.name))]):n("span",[t._v("Информация отсутствует")])])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Площадка КГО")]),t.platform.place_kgm?n("v-list-item-subtitle",[t._v("Присутствует")]):n("v-list-item-subtitle",[t._v("Отсутствует")])],1)],1)],1)],1)],1)],1):t._e(),n("v-col",{attrs:{cols:"6"}},[n("v-carousel",{attrs:{height:"100%","hide-delimiters":"",continuous:!1,value:t.containers}},t._l(t.containers,(function(e){return t.containers.length?n("v-carousel-item",{key:e.id,staticClass:"px-8",attrs:{value:e.id}},[n("v-card",{staticClass:"list list_by-section",attrs:{flat:"",tile:"",light:"",color:"secondaryLightest"}},[n("v-list-item",{staticClass:"list__header"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:"http://dev-auk.kuzro.ru/media/files/jpeg_20191007_141216__8j5gp1P.jpg"}})],1),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"container",params:{id:t.platform.id,containerId:e.id}}}},[t._v("Контейнер №"+t._s(e.id))])],1),n("v-list-item-subtitle",[t._v("Инвентарный номер: "+t._s(e.ext_id))])],1)],1),n("v-list-item",{staticClass:"list__content"},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Тип и объём (План. / Факт.)")]),n("v-list-item-subtitle",[e.type_plan?n("span",[t._v(t._s(e.type_plan.name))]):t._e(),e.type_fact?n("span",[t._v("/ "+t._s(e.type_fact.name))]):t._e()])],1)],1)],1)],1)],1)],1):t._e()})),1)],1)],1)],1)},it=[],rt={0:"successLight",1:"warningLight",2:"errorLight",3:"secondaryLightest"},st=rt,ot=(a("7f7f"),a("bc3a")),lt=a.n(ot),ct="http://dev-auk.kuzro.ru",ut=lt.a.create({baseURL:"".concat(ct)}),pt=ut,mt="/platforms",dt={get:function(t){return pt.get("".concat(mt,"/?page=").concat(t))},getPlatform:function(t,e){var a;if(e){var n=e.join(",");a=pt.get("".concat(mt,"/").concat(t,"/?=").concat(n))}else a=pt.get("".concat(mt,"/").concat(t,"/"));return a}},vt="/containers",ft={get:function(t){return pt.get("".concat(vt,"/?page=").concat(t))},getContainer:function(t,e){var a;if(e){var n=e.join(",");a=pt.get("".concat(vt,"/").concat(t,"/?=").concat(n))}else a=pt.get("".concat(vt,"/").concat(t,"/"));return a}},_t="/emitters",ht="available",gt="assign-to-container",bt={get:function(t,e){return pt.get("".concat(_t,"/").concat(ht,"/").concat(t,"/").concat(e,"/"))},patch:function(t,e){return pt.patch("".concat(_t,"/").concat(gt,"/").concat(t,"/").concat(e,"/"))},delete:function(t,e){return pt.delete("".concat(_t,"/").concat(gt,"/").concat(t,"/").concat(e,"/"))}},yt="/token/login",kt={post:function(t){return pt.post("".concat(yt),t)}},xt={login:kt,platforms:dt,containers:ft,emitters:bt},Ct={get:function(t){return xt[t]}},wt=Ct,St=wt.get("platforms"),Vt=n["a"].extend({props:{platform:{type:Object,required:!0}},data:function(){return{containers:[],statusColors:st,cardWidth:0,isLoading:!1,currentPlatform:!1}},watch:{platform:function(){var t=this.platform.id,e=["containers"];this.getPlatform(t,e)}},mounted:function(){var t=this.platform.id,e=["containers"];this.getPlatform(t,e)},methods:{getPlatform:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,St.getPlatform(e,a);case 3:n=t.sent,this.containers=n.data.containers,this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()}}),At=Vt,It=a("5e66"),Et=a("3e35"),Lt=a("62ad"),Ot=Object(m["a"])(At,nt,it,!1,null,null,null),jt=Ot.exports;v()(Ot,{VCard:N["a"],VCarousel:It["a"],VCarouselItem:Et["a"],VCol:Lt["a"],VContainer:$["a"],VIcon:_["a"],VImg:S["a"],VListItem:A["a"],VListItemAvatar:I["a"],VListItemContent:E["b"],VListItemSubtitle:E["c"],VListItemTitle:E["d"],VRow:G["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-wrapper",style:t.cssVars},[a("div",{staticClass:"map-loader",class:{"--hidden":t.mapInit}}),a("yandex-map",{attrs:{id:"map",settings:t.mapSettings,coords:t.mapConfiguration.coords,zoom:t.mapConfiguration.zoom,controls:t.mapConfiguration.controls},on:{"map-was-initialized":t.mapWasInitialized}},[t.mapInit?a("ymap-marker",{attrs:{"marker-id":t.mapConfiguration.markerId,coords:t.mapConfiguration.coords}}):t._e()],1)],1)},Tt=[],Pt=(a("c5f6"),a("5490")),Bt=n["a"].extend({components:{yandexMap:Pt["a"],ymapMarker:Pt["b"]},props:{mapItem:{type:Object,default:null},mapHeight:{type:Number,default:340}},data:function(){return{mapSettings:{lang:"ru_RU",coordorder:"latlong",version:"2.1"},mapInit:!1,mapCoords:[-1,-1]}},computed:{mapConfiguration:function(){var t=this.mapCoords,e=this.mapItem?this.mapItem.id:-1;return{zoom:17,coords:t,markerId:e,controls:["fullscreenControl","geolocationControl","zoomControl"]}},cssVars:function(){return{"--mapHeight":"".concat(this.mapHeight,"px")}}},watch:{mapItem:function(){this.mapItem&&(this.mapCoords=[this.mapItem.point.latitude,this.mapItem.point.longitude])}},methods:{mapWasInitialized:function(){this.mapInit=!0}}}),Ut=Bt,zt=(a("bc22"),Object(m["a"])(Ut,Rt,Tt,!1,null,"ea94c616",null)),Dt=zt.exports,Ht=wt.get("platforms"),Nt=n["a"].extend({components:{ExpandedContent:jt,EcotecMap:Dt},mixins:[at],data:function(){return{tableSticky_expanded:[],filters:{},selected:[],headers:[{text:"Код",value:"id",sortable:!1},{text:"Адрес",value:"name",sortable:!1},{text:"Лот",value:"lot",sortable:!1},{text:"Количество контейнеров (Факт.)",value:"count_fact",sortable:!1}],platforms:[],pageCount:1,itemsPerPage:0,isLoading:!1}},computed:{currentItem:function(){var t=Object(et["a"])(this.tableSticky_expanded,1),e=t[0];return e}},mounted:function(){var t=this.pageCount;this.getPlatforms(t)},methods:{getRowValue:function(t){var e=Object(et["a"])(this.tableSticky_expanded,1);e[0];this.tableSticky_expanded=this.tableSticky_expanded.includes(t)?[]:[t]},getPlatforms:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,Ht.get(e);case 3:a=t.sent,this.platforms=a.data.results,this.pageCount=a.data.count,this.itemsPerPage=this.platforms.length,this.isLoading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),$t=Nt,Qt=a("99d9"),Gt=a("8fea"),qt=a("0789"),Ft=a("3a2f"),Wt=Object(m["a"])($t,Y,Z,!1,null,null,null),Mt=Wt.exports;v()(Wt,{VCard:N["a"],VCardText:Qt["b"],VCardTitle:Qt["c"],VDataTable:Gt["a"],VExpandTransition:qt["a"],VTextField:q["a"],VTooltip:Ft["a"]});var Jt={components:{ListPlatforms:Mt}},Kt=Jt,Xt=Object(m["a"])(Kt,K,X,!1,null,null,null),Yt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("list-containers")},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-overflow"},[a("v-card",{staticClass:"section-overflow",attrs:{flat:"",tile:""}},[a("v-card-title",{staticClass:"pa-4"},[t._v("Таблица контейнеров")]),a("v-card-text",{staticClass:"section-overflow"},[a("v-data-table",{staticClass:"section-overflow",attrs:{headers:t.headers,items:t.containers,expanded:t.tableSticky_expanded,"server-items-length":t.pageCount,"items-per-page":t.itemsPerPage,loading:t.isLoading,"item-key":"id","show-select":"","single-expand":"","fixed-header":"","loading-text":"Выполняется подгрузка контейнеров...","footer-props":{"disable-items-per-page":!0,"items-per-page-options":[t.itemsPerPage],"disable-pagination":t.isLoading}},on:{"update:expanded":function(e){t.tableSticky_expanded=e},"click:row":t.getRowValue,"update:page":t.getContainers},scopedSlots:t._u([{key:"header.id",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{"hide-details":"","append-icon":"search"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0),model:{value:t.filters[n.value],callback:function(e){t.$set(t.filters,n.value,e)},expression:"filters[header.value]"}},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"header.type_plan",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{"hide-details":"","append-icon":"arrow_drop_down"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0),model:{value:t.filters[n.value],callback:function(e){t.$set(t.filters,n.value,e)},expression:"filters[header.value]"}},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"header.status",fn:function(e){var n=e.header;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-select",t._g({attrs:{items:t.containerStatusesDict,"item-text":"name","item-value":"id",clearable:"","hide-details":"","append-icon":"arrow_drop_down"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.text))]},proxy:!0}],null,!0)},i))]}}],null,!0)},[a("span",[t._v(t._s(n.text))])])]}},{key:"item.type_plan",fn:function(e){var n=e.item;return[n.type_plan?a("span",[t._v(t._s(n.type_plan.name))]):a("span",[t._v("Нет данных")])]}},{key:"item.status",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{color:t.statusColors[t.containerStatuses[n.status.id]]}},[t._v(t._s(n.status.name))])]}},{key:"expanded-item",fn:function(t){var e=t.headers,n=t.item;return[a("td",{attrs:{colspan:e.length}},[a("expanded-content",{attrs:{container:n}})],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)},ae=[],ne={in_stock:1,on_platform:0,on_repair:2,clarify:3},ie=ne,re=[{id:ie.in_stock,name:"В запасе"},{id:ie.on_platform,name:"На площадке"},{id:ie.on_repair,name:"В ремонте"},{id:ie.clarify,name:"Требует уточнения"}],se=re,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-row",{attrs:{"no-gutters":""}},[t.container?n("v-col",{attrs:{cols:"6"}},[n("v-card",{staticClass:"list list_by-section",attrs:{flat:"",tile:"",color:"secondaryLightest"}},[n("v-list-item",{staticClass:"list__header"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:a("6007")}})],1),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"container",params:{id:t.container.platform,containerId:t.container.id}}}},[t._v("Контейнер №"+t._s(t.container.id))])],1),n("v-list-item-subtitle",[t._v("Инвентарный номер: "+t._s(t.container.ext_id))])],1)],1),n("v-list-item",{staticClass:"list__content"},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Тип и объём (План. / Факт.)")]),n("v-list-item-subtitle",[t.container.type_plan?n("span",[t._v(t._s(t.container.type_plan.name))]):t._e(),t.container.type_fact?n("span",[t._v("/ "+t._s(t.container.type_fact.name))]):t._e()])],1)],1)],1)],1)],1)],1):t._e(),t.platform?n("v-col",{attrs:{cols:"6"}},[n("v-card",{staticClass:"list list_by-section",attrs:{flat:"",tile:"",color:"secondaryLightest"}},[n("v-list-item",{staticClass:"list__header"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:a("6007")}})],1),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"platform",params:{id:t.platform.id}}}},[t._v("Площадка №"+t._s(t.platform.id))])],1),n("v-list-item-subtitle",[n("v-icon",[t._v("room")]),t._v(t._s(t.platform.name))],1)],1)],1),n("v-list-item",{staticClass:"list__content"},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Вид площадки (План. / Факт.)")]),n("v-list-item-subtitle",[t.platform.type_plan?n("span",[t._v(t._s(t.platform.type_plan.name))]):n("span",[t._v("Информация отсутствует")]),t.platform.type_fact?n("span",[t._v(" / "+t._s(t.platform.type_fact.name))]):n("span",[t._v(" / Информация отсутствует")])])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Покрытие")]),n("v-list-item-subtitle",[t.platform.surface?n("span",[t._v(t._s(t.platform.surface.name))]):n("span",[t._v("Информация отсутствует")])])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Ограждение")]),n("v-list-item-subtitle",[t.platform.fence?n("span",[t._v(t._s(t.platform.fence.name))]):n("span",[t._v("Информация отсутствует")])])],1)],1),n("v-col",{attrs:{cols:"6"}},[n("v-list-item-content",[n("v-list-item-title",[t._v("Площадка КГО")]),t.platform.place_kgm?n("v-list-item-subtitle",[t._v("Присутствует")]):n("v-list-item-subtitle",[t._v("Отсутствует")])],1)],1)],1)],1)],1)],1):t._e()],1)],1)},le=[],ce=wt.get("platforms"),ue=n["a"].extend({props:{container:{type:Object,required:!0}},data:function(){return{platform:{},statusColors:st,isLoading:!1}},watch:{container:function(){var t=this.container.platform;this.getPlatform(t)}},mounted:function(){var t=this.container.platform;this.getPlatform(t)},methods:{getPlatform:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,ce.getPlatform(e);case 3:a=t.sent,this.platform=a.data,this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),pe=ue,me=Object(m["a"])(pe,oe,le,!1,null,null,null),de=me.exports;v()(me,{VCard:N["a"],VCol:Lt["a"],VContainer:$["a"],VIcon:_["a"],VImg:S["a"],VListItem:A["a"],VListItemAvatar:I["a"],VListItemContent:E["b"],VListItemSubtitle:E["c"],VListItemTitle:E["d"],VRow:G["a"]});var ve=wt.get("containers"),fe=n["a"].extend({components:{ExpandedContent:de},mixins:[at],data:function(){return{tableSticky_expanded:[],filters:{},selected:[],headers:[{text:"Код",value:"id",sortable:!1},{text:"Тип по плану",value:"type_plan",sortable:!1},{text:"Статус",value:"status",sortable:!1}],containers:[],containerStatusesDict:se,containerStatuses:ie,statusColors:st,pageCount:1,itemsPerPage:0,isLoading:!0}},computed:{currentItem:function(){var t=Object(et["a"])(this.tableSticky_expanded,1),e=t[0];return e}},mounted:function(){var t=this.pageCount;this.getContainers(t)},methods:{getRowValue:function(t){var e=Object(et["a"])(this.tableSticky_expanded,1);e[0];this.tableSticky_expanded=this.tableSticky_expanded.includes(t)?[]:[t]},getContainers:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,ve.get(e);case 3:a=t.sent,this.containers=a.data.results,this.pageCount=a.data.count,this.itemsPerPage=this.containers.length,this.isLoading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),_e=fe,he=a("cc20"),ge=a("b974"),be=Object(m["a"])(_e,ee,ae,!1,null,null,null),ye=be.exports;v()(be,{VCard:N["a"],VCardText:Qt["b"],VCardTitle:Qt["c"],VChip:he["a"],VDataTable:Gt["a"],VSelect:ge["a"],VTextField:q["a"],VTooltip:Ft["a"]});var ke={components:{ListContainers:ye}},xe=ke,Ce=Object(m["a"])(xe,Zt,te,!1,null,null,null),we=Ce.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pr-2",attrs:{cols:"6"}},[a("CardPlatformDetailView",{attrs:{platformId:t.platformId}})],1),t.containerId?a("v-col",{staticClass:"pl-2",attrs:{cols:"6"}},[a("CardContainerDetailView",{attrs:{platformId:t.platformId,containerId:t.containerId}})],1):t._e()],1)],1)},Ve=[],Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.platform?a("div",[a("v-card",{staticClass:"list list_by-section",attrs:{flat:"",tile:"",color:"secondaryLightest"}},[a("v-list-item",{staticClass:"list__header"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:"http://dev-auk.kuzro.ru/media/files/jpeg_20191007_141216__8j5gp1P.jpg"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Площадка №"+t._s(t.platformId))]),a("v-list-item-subtitle",[a("v-icon",[t._v("room")]),t._v(t._s(t.platform.name))],1)],1)],1),a("v-list-item",{staticClass:"list__content"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Вид площадки (План. / Факт.)")]),a("v-list-item-subtitle",[t.platform.type_plan?a("span",[t._v(t._s(t.platform.type_plan.name))]):a("span",[t._v("Информация отсутствует")]),t.platform.type_fact?a("span",[t._v(" / "+t._s(t.platform.type_fact.name))]):a("span",[t._v(" / Информация отсутствует")])])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Покрытие")]),a("v-list-item-subtitle",[t.platform.surface?a("span",[t._v(t._s(t.platform.surface.name))]):a("span",[t._v("Информация отсутствует")])])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Ограждение")]),a("v-list-item-subtitle",[t.platform.fence?a("span",[t._v(t._s(t.platform.fence.name))]):a("span",[t._v("Информация отсутствует")])])],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Площадка КГО")]),t.platform.place_kgm?a("v-list-item-subtitle",[t._v("Присутствует")]):a("v-list-item-subtitle",[t._v("Отсутствует")])],1)],1)],1)],1)],1),t.platform.containers?a("v-list",{staticClass:"list list_module"},[a("v-list-item",{staticClass:"list__header"},[a("v-list-item-content",[a("v-list-item-title",[t._v("СПИСОК КОНТЕЙНЕРОВ")])],1),a("v-list-item-action",[t.platform.containers.length?a("v-list-item-action-text",[t._v(t._s(t.platform.containers.length))]):t._e()],1)],1),t._l(t.platform.containers,(function(e){return t.platform.containers.length?a("v-list-item",{key:e.id,staticClass:"list__content",attrs:{to:{name:"container",params:{containerId:e.id}}}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:"http://dev-auk.kuzro.ru/media/files/jpeg_20191007_141216__8j5gp1P.jpg"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Контейнер №"+t._s(e.id))]),a("v-list-item-subtitle",[t._v("Инвентарный номер: "+t._s(e.ext_id))])],1),a("v-list-item-action",[a("v-chip",{attrs:{color:t.statusColors[t.containerStatuses[e.status.id]]}},[t._v(t._s(e.status.name))])],1),a("v-list-item-action",[a("v-icon",[t._v("keyboard_arrow_right")])],1)],1):t._e()}))],2):t._e()],1):t._e()},Ie=[],Ee=wt.get("platforms"),Le=n["a"].extend({props:{platformId:{type:Number,required:!0}},data:function(){return{platform:[],statusColors:st,containerStatuses:ie,isLoading:!1}},mounted:function(){var t=this.platformId;this.getPlatform(t)},methods:{getPlatform:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,Ee.getPlatform(e);case 3:a=t.sent,this.platform=a.data,this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),Oe=Le,je=a("1800"),Re=Object(m["a"])(Oe,Ae,Ie,!1,null,null,null),Te=Re.exports;v()(Re,{VCard:N["a"],VChip:he["a"],VCol:Lt["a"],VIcon:_["a"],VImg:S["a"],VList:V["a"],VListItem:A["a"],VListItemAction:je["a"],VListItemActionText:E["a"],VListItemAvatar:I["a"],VListItemContent:E["b"],VListItemSubtitle:E["c"],VListItemTitle:E["d"],VRow:G["a"]});var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.container?a("div",[a("v-card",{staticClass:"list list_by-section",attrs:{flat:"",tile:"",color:"secondaryLightest"}},[a("v-list-item",{staticClass:"list__header"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:"http://dev-auk.kuzro.ru/media/files/jpeg_20191007_141216__8j5gp1P.jpg"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Контейнер №"+t._s(t.containerId))]),a("v-list-item-subtitle",[t._v("Инвентарный номер: "+t._s(t.container.ext_id))])],1),a("v-list-item-action",[a("v-chip",{attrs:{color:t.statusColors[t.containerStatuses[t.container.status.id]]}},[t._v(t._s(t.container.status.name))])],1)],1),a("v-list-item",{staticClass:"list__content"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Тип и объём (План. / Факт.)")]),a("v-list-item-subtitle",[t.container.type_plan?a("span",[t._v(t._s(t.container.type_plan.name))]):a("span",[t._v("Информация отсутствует")]),t.container.type_fact?a("span",[t._v(" / "+t._s(t.container.type_fact.name))]):a("span",[t._v(" / Информация отсутствует")])])],1)],1)],1)],1)],1),t.container.emitters?a("v-list",{staticClass:"list list_module"},[a("v-list-item",{staticClass:"list__header"},[a("v-list-item-content",[a("v-list-item-title",[t._v("ОТХОДООБРАЗОВАТЕЛИ")])],1),a("v-list-item-action",[t.container.emitters.length?a("v-list-item-action-text",[t._v(t._s(t.container.emitters.length))]):t._e()],1),a("v-list-item-action",[a("v-dialog",{attrs:{persistent:t.loading,width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.getPlatformEmitters(t.platformId,t.containerId)}}},n),[a("v-icon",[t._v("add")])],1)]}}],null,!1,1729630608),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{flat:"",tile:""}},[t.loading?a("v-list",{staticClass:"list list_module"},[a("v-list-item",{staticClass:"list__content"},[a("v-list-item-content",[a("div",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{size:50,color:"secondaryLight",indeterminate:""}})],1)])],1)],1):t._e(),a("v-list",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"list list_module"},[a("v-list-item",{staticClass:"list__content"},[a("v-list-item-content",[a("v-list-item-title",[t._v("СПИСОК ОТХОДООБРАЗОВАТЕЛЕЙ")])],1),a("v-list-item-action",[t.emitters.length?a("v-list-item-action-text",[t._v(t._s(t.emitters.length))]):t._e()],1)],1),a("v-list-item-group",{attrs:{multiple:""},model:{value:t.selectedEmitters,callback:function(e){t.selectedEmitters=e},expression:"selectedEmitters"}},t._l(t.emitters,(function(e){return a("v-list-item",{key:e.id,staticClass:"list__content",attrs:{value:e.id},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.active,r=n.toggle;return[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))]),a("v-list-item-subtitle",[t._v("Номер договора: "+t._s(e.contract))])],1),a("v-list-item-action",[a("v-checkbox",{attrs:{"input-value":i,"true-value":e,color:"primary"},on:{click:r}})],1)]}}],null,!0)})})),1)],1),a("v-card-actions",{staticClass:"px-8 py-4"},[a("v-spacer"),a("v-btn",{attrs:{small:"",text:"",color:"secondaryLight"},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")]),a("v-btn",{attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return e.preventDefault(),t.patchEmittersWithUpdate(t.platformId,t.containerId,t.selectedEmitters)}}},[t._v("Добавить")])],1)],1)],1)],1)],1),t._l(t.container.emitters,(function(e){return a("v-list-item",{key:e.id,staticClass:"list__content"},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))]),a("v-list-item-subtitle",[t._v("Номер договора: "+t._s(e.contract))]),a("v-list-item-subtitle",[t._v("Категория: "+t._s(e.emitter_category))]),a("v-list-item-subtitle",[t._v("Значение нормаобразующего показателя: "+t._s(e.norm_value))]),a("v-list-item-subtitle",[t._v("Представитель: "+t._s(e.person))])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(a){return a.preventDefault(),t.deleteEmitterWithUpdate(t.containerId,e.id)}}},[a("v-icon",[t._v("close")])],1)],1)],1)}))],2):t._e()],1):t._e()},Be=[],Ue=(a("5df3"),a("ac6a"),wt.get("containers")),ze=wt.get("emitters"),De=n["a"].extend({props:{containerId:{type:Number,required:!0},platformId:{type:Number,required:!0}},data:function(){return{container:{},emitters:[],statusColors:st,containerStatuses:ie,selectedEmitters:[],dialog:!1,loading:!1,isLoading:!1}},watch:{containerId:function(){var t=this.containerId;this.getContainer(t)}},mounted:function(){var t=this.containerId;this.getContainer(t)},methods:{getContainer:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,Ue.getContainer(e);case 3:a=t.sent,this.container=a.data,this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getPlatformEmitters:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,ze.get(e,a);case 3:n=t.sent,this.emitters=n.data,this.loading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),patchEmitter:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ze.patch(e,a);case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),deleteEmitter:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ze.delete(e,a);case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),getContainerEmitters:function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ue.getContainer(e);case 2:a=t.sent,this.$set(this.container,"emitters",a.data.emitters);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),patchEmittersWithUpdate:function(t,e,a){var n=this;if(a.length){var i=[];a.forEach((function(t){i.push(n.patchEmitter(e,t))})),Promise.all(i).then((function(){n.getPlatformEmitters(t,e),n.getContainerEmitters(e),n.dialog=!1}))}},deleteEmitterWithUpdate:function(t,e){this.deleteEmitter(t,e),this.getContainerEmitters(t)}}}),He=De,Ne=a("ac7c"),$e=a("169a"),Qe=a("490a"),Ge=Object(m["a"])(He,Pe,Be,!1,null,null,null),qe=Ge.exports;v()(Ge,{VBtn:f["a"],VCard:N["a"],VCardActions:Qt["a"],VCheckbox:Ne["a"],VChip:he["a"],VCol:Lt["a"],VDialog:$e["a"],VIcon:_["a"],VImg:S["a"],VList:V["a"],VListItem:A["a"],VListItemAction:je["a"],VListItemActionText:E["a"],VListItemAvatar:I["a"],VListItemContent:E["b"],VListItemGroup:L["a"],VListItemSubtitle:E["c"],VListItemTitle:E["d"],VProgressCircular:Qe["a"],VRow:G["a"],VSpacer:R["a"]});var Fe=n["a"].extend({components:{CardPlatformDetailView:Te,CardContainerDetailView:qe},data:function(){return{platformId:null,containerId:null}},watch:{$route:function(t){this.updateContainerId(t)}},created:function(){var t=this.$route;this.platformId=Number(this.$route.params.id),this.updateContainerId(t)},methods:{updateContainerId:function(t){this.containerId=Number(t.params.containerId)}}}),We=Fe,Me=Object(m["a"])(We,Se,Ve,!1,null,null,null),Je=Me.exports;v()(Me,{VCol:Lt["a"],VContainer:$["a"],VRow:G["a"]});var Ke,Xe,Ye=a("2f62"),Ze=a("bd86"),ta=wt.get("login"),ea={token:localStorage.getItem("user-token")||"",status:""},aa={isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status}},na=(Ke={},Object(Ze["a"])(Ke,c.REQUEST,(function(t,e){var a=t.commit;return new Promise(function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(n){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a(c.REQUEST),t.next=3,ta.post(e);case 3:i=t.sent,r=i.data.auth_token,localStorage.setItem("user-token",r),pt.defaults.headers.Authorization="Token ".concat(r),a(c.SUCCESS,r),n(i);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){a(c.ERROR,t),localStorage.removeItem("user-token")}))})),Object(Ze["a"])(Ke,c.LOGOUT,(function(t){var e=t.commit;return new Promise(function(){var t=Object(tt["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e(c.LOGOUT),localStorage.removeItem("user-token"),delete pt.defaults.headers.Authorization,a();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),Ke),ia=(Xe={},Object(Ze["a"])(Xe,c.REQUEST,(function(t){t.status="loading"})),Object(Ze["a"])(Xe,c.SUCCESS,(function(t,e){t.status="success",t.token=e})),Object(Ze["a"])(Xe,c.ERROR,(function(t){t.status="error"})),Object(Ze["a"])(Xe,c.LOGOUT,(function(t){t.token=""})),Xe),ra={state:ea,mutations:ia,actions:na,getters:aa};n["a"].use(Ye["a"]);var sa=new Ye["a"].Store({modules:{auth:ra}});n["a"].use(B["a"]);var oa=function(t,e,a){sa.getters.isAuthenticated?a("/"):a()},la=function(t,e,a){sa.getters.isAuthenticated?a():a("/login")},ca=new B["a"]({mode:"hash",base:"/kuzro-build/",routes:[{path:"/",redirect:"/platforms"},{path:"/login",name:"login",component:J,beforeEnter:oa},{path:"/platforms",name:"platforms",component:Yt,beforeEnter:la},{path:"/platform/:id",name:"platform",component:Je,beforeEnter:la,children:[{path:":containerId",name:"container",component:Je,beforeEnter:la}]},{path:"/containers",name:"containers",component:we,beforeEnter:la}]}),ua=a("f309");n["a"].use(ua["a"]);var pa=new ua["a"]({theme:{themes:{light:{primary:"#0178E6",secondary:"#183149",secondaryLight:"#8191A1",secondaryLightest:"#F0F4F9",lightest:"#fff",lighter:"#f5f5f5",light:"#eee",midLight:"#e4e4e4",midDark:"#BBBBBB",error:"#D53760",errorLight:"#F5E4EA",warning:"#EBCB71",warningLight:"#FEF9ED",success:"#75BC41",successLight:"#E9F7E9"}}}});n["a"].config.productionTip=!1;var ma=localStorage.getItem("user-token");ma&&(pt.defaults.headers.Authorization="Token ".concat(ma)),new n["a"]({router:ca,store:sa,vuetify:pa,render:function(t){return t(P)}}).$mount("#app")}});
//# sourceMappingURL=app.221dbeed.js.map